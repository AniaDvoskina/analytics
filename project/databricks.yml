bundle:
  name: kaggle-events

resources:
  jobs:
    send-events-to-hub:
      name: Send Events To Hub
      tasks:
        - task_key: events-to-hub
          existing_cluster_id: "0216-153450-gm1l62l6"
          spark_python_task:
            python_file: ./src/send-events-to-hub.py
    write-events-to-raw:
      name: Write Events To Raw
      tasks:
        - task_key: events-to-raw
          existing_cluster_id: "0216-153450-gm1l62l6"
          spark_python_task:
            python_file: ./src/write-events-to-raw.py
        - task_key: events-to-bronze
          depends_on:
            - task_key: events-to-raw
          run_if: ALL_DONE
          existing_cluster_id: "0216-153450-gm1l62l6"
          spark_python_task:
            python_file: ./src/write-events-to-bronze.py

targets:
  dev:
    workspace:
      host: https://adb-1803686465879368.8.azuredatabricks.net
